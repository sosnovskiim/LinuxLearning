# Запрет входа в систему для конкретного пользователя
Изменение командной оболочки пользователя user1 на `/sbin/nologin`.
Данная оболочка предназначена для системных пользователей и от их лица нельзя войти в систему.
```
usermod -s /sbin/nologin user1
```
![1.png](/solutions/Users-2/screenshots/1.png)

Блокировка пароля пользователя user1 с помощью команды `passwd -l user1`.
Данная команда добавляет символ `!` в начало хэша пароля пользователя,
и следовательно такой хэш не сможет совпасть ни с одним вводимым паролем.
Это можно проверить в файле, где хранится хэшированный пароль пользователя.
```
passwd -l user1; cat /etc/tcb/user1/shadow
```
![2.png](/solutions/Users-2/screenshots/2.png)

При этом от пользователя root по-прежнему можно войти в систему под user1,
так как для root при входе в систему пароли пользователей не запрашиваются.

Разблокировка пароля пользователя user1 с помощью команды `passwd -u user1`.
```
passwd -u user1; cat /etc/tcb/user1/shadow
```
![3.png](/solutions/Users-2/screenshots/3.png)

Блокировка учетной записи пользователя user1.
```
usermod -L user1
```
![4.png](/solutions/Users-2/screenshots/4.png)

Разблокировка учетной записи пользователя user1.
```
usermod -U user1
```
![5.png](/solutions/Users-2/screenshots/5.png)

Создание пользователей с одинаковыми именами невозможно.

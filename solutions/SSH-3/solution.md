# Создание ssh-ключей
SSH-ключ - пара ключей, состоящая из приватного (закрытого) и публичного (открытого) ключа.
При подключении сервер использует открытый ключ для проверки соответствия закрытому ключу,
и в случае успешной проверки доступ предоставляется без запроса пароля.

Пара публичный/приватный ключ типа ed25519 создается командой `ssh-keygen -t ed25519`.
Приватный ключ хранится в файле `~/.ssh/id_ed25519`, а публичный в файле `~/.ssh/id_ed25519.pub`.

Чтобы скопировать публичный ключ на сервер, необходимо использовать следующую команду:
```
ssh-copy-id -i ~/.ssh/id_ed25519.pub -p 230 student@95.31.204.147
```
Теперь можно подключаться к серверу без ввода пароля, а благодаря предыдущему заданию, без логина и порта.
```
ssh student
```
![1.png](/solutions/SSH-3/screenshots/1.png)

Чтобы запретить подключение с паролем для всех пользователей и оставить только подключение с помощью ключа, необходимо отредактировать файл конфигурации sshd.
```
sudo vim /etc/openssh/sshd_config
```
Здесь нужно раскомменитровать строку, начинающуюся на `PasswordAuthentication`, и заменить на `PasswordAuthentication no`. 
Затем перезапустить sshd, чтобы применить изменения.
```
sudo systemctl restart sshd
```
![2.png](/solutions/SSH-3/screenshots/2.png)

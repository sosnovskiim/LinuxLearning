# Написание скрипта
Шебанг - сочетание символов `#!` в начале файла скрипта. За ним следует путь до программы-интерпретатора, например `/bin/bash`.
Таким образом, с помощью шебанга указывается, какой интепретатор должен использоваться для выполнения скрипта.

Исполняемый файл в Linux необязательно должен иметь соответствующее расширение. Достаточно изменить права доступа к файлу,
который необходимо запустить, добавив флаг исполняемости командой `chmod +x [filename]`.

Создадим файл в домашнем каталоге командой `touch script` и откроем текстовым редактором, например `nano script`.
Первой строкой будет `#!/bin/bash`, что укажет командную оболочку bash в качестве программы-интерпретатора.
Второй строкой будет `set -euo pipefail`, где устанавливаются следующие параметры выполнения скрипта:
- флаг `-e` предписывает bash немедленно завершить работу, если любая команда скрипта возвращает ненулевой код выхода;
- флаг `-u` предписывает bash немедленно завершить работу, если в любой команде скрипта
используется ранее неопределенная переменная, и выводит соответствующее сообщение об ошибке;
- флаг `-o pipefail` предписывает bash в случае, если какая-либо команда скрипта завершается с ошибкой,
использовать ее код возврата в качестве кода возврата всего скрипта, в то время как по умолчанию
bash по окончании выполнения скрипта выводит код возврата последней выполненной команды.

Далее разместим в файле код, выполняющий действия из задания "Работа с файлами".
```bash
#!/bin/bash
set -euo pipefail

echo "Перемещение в домашний каталог и вывод всех файлов в нем"
cd
ls -lA

echo
echo "Создание папки с двумя подпапками"
mkdir folder
mkdir folder/subfolder1
mkdir folder/subfolder2
pwd
ls
cd folder
pwd
ls

echo
echo "Создание файла с содержимым в первой подпапке"
cd subfolder1
echo "qwe
asd
zxc" > file1
pwd
ls
ls ~/folder/subfolder1/file1
cat file1

echo
echo "Перемещение файла во вторую подпапку"
mv file1 ../subfolder2
pwd
if [ !$(ls) ]; then
echo "Папка пуста"
fi
cd ../subfolder2
pwd
ls

echo
echo "Копирование файла из второй подпапки в первую"
cp file1 ../subfolder1
pwd
ls
cd ../subfolder1
pwd
ls

echo
echo "Переименование файла во второй подпапке"
pwd
ls
cd ../subfolder2
mv file1 file2
pwd
ls

echo
echo "Сортировка содержимого первого файла по возрастанию, а второго по убыванию"
sort -ro file2 file2
ls ~/folder/subfolder2/file2
cat file2
cd ../subfolder1
sort -o file1 file1
ls ~/folder/subfolder1/file1
cat file1

echo
echo "Удаление созданной папки и всего ее содержимого"
cd
rm -rf folder
ls
```
Затем изменим права доступа к файлу, чтобы его можно было выполнить, командой `chmod +x script`.
Наконец, запустим файл командой `./script`.
